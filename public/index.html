<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Checkers Game</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="components/room/room-styles.css">
    <link rel="stylesheet" href="components/game/game-styles.css">
</head>
<body>
    <div class="container">
        <!-- Game Header -->
        <header class="game-header">
            <h1>üî¥ Online Checkers ‚ö´</h1>
            <div class="game-info">
                <div class="room-info">
                    <span class="room-code-display">Room: <span id="current-room-code">-</span></span>
                    <button id="copy-room-code" class="btn btn-small" title="Copy room code">üìã</button>
                </div>
                <div class="turn-indicator">
                    <span id="turn-display">Waiting for players...</span>
                </div>
            </div>
        </header>

        <!-- Room Selection -->
        <div id="room-selection" class="room-selection">
            <div class="room-card">
                <h2>Join Game</h2>
                <div class="input-group">
                    <input type="text" id="player-name" placeholder="Your name" maxlength="20">
                </div>
                <div class="room-options">
                    <div class="room-option">
                        <h3>Create New Room</h3>
                        <button id="create-room" class="btn btn-primary">Create Room</button>
                    </div>
                    <div class="room-option">
                        <h3>Join Existing Room</h3>
                        <div class="input-group">
                            <input type="text" id="room-code-input" placeholder="Enter room code" maxlength="6">
                            <button id="join-room" class="btn btn-secondary">Join Room</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Container (inside .container, always present) -->
        <div id="toast-container" class="toast-container">
            <!-- Toast messages will appear here -->
        </div>

        <!-- Game Board -->
        <div id="game-container" class="game-container hidden">
            <!-- Player Info -->
            <div class="players-info">
                <div class="player-card red-player">
                    <div class="player-color red"></div>
                    <span id="red-player-name">Player 1</span>
                </div>
                <div class="player-card black-player">
                    <div class="player-color black"></div>
                    <span id="black-player-name">Player 2</span>
                </div>
            </div>

            <!-- Checkers Board -->
            <div class="board-container">
                <div id="game-board" class="board">
                    <!-- Board will be generated dynamically -->
                </div>
            </div>

            <!-- Game Controls -->
            <div class="game-controls">
                <button id="reset-game" class="btn btn-secondary">New Game</button>
                <button id="leave-room" class="btn btn-danger">Leave Room</button>
            </div>
        </div>

        <!-- Game Status Messages -->
        <div id="game-messages" class="game-messages">
            <!-- Messages will be added dynamically -->
        </div>

        <!-- Connection Status -->
        <div id="connection-status" class="connection-status">
            <span class="status-indicator" id="status-indicator">‚óè</span>
            <span id="status-text">Connecting...</span>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content" id="modal-content">
            <h2 id="game-over-title">Game Over</h2>
            <p id="game-over-message">Player wins!</p>
            <div id="consolation-message" class="consolation-message hidden"></div>
            <div class="modal-actions">
                <button id="play-again" class="btn btn-primary">Play Again</button>
                <button id="close-modal" class="btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Turn Order Selection Modal -->
    <div id="turn-order-modal" class="modal hidden">
        <div class="modal-content turn-order-modal">
            <h2>üéÆ Choose Who Starts First</h2>
            <p>You can decide the turn order for this game!</p>
            <div class="turn-order-options">
                <button id="player-starts-first" class="btn btn-primary turn-option">
                    <span class="turn-option-icon">üéØ</span>
                    <span class="turn-option-text">I'll Start First</span>
                    <span class="turn-option-desc">Take the first move</span>
                </button>
                <button id="opponent-starts-first" class="btn btn-secondary turn-option">
                    <span class="turn-option-icon">ü§ù</span>
                    <span class="turn-option-text">Let Opponent Start</span>
                    <span class="turn-option-desc">Give opponent the first move</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti-container" class="confetti-container hidden"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="components/shared/utils.js"></script>
    <script src="components/room/room-manager.js"></script>
    <script src="components/game/game-manager.js"></script>
    <script src="main.js"></script>
</body>
</html>
